\vspace*{-0.5em}

\section{Background and Related Work}~\label{sec:background}

\vspace*{-1em}

% Explain the basics of code smells and their importance and prevalence

{\bf Code Smells}.
Originating from Fowler and Beck's \textit{Refactoring} book, code smells are
important considerations for both researchers and practitioners.
The research community has defined numerous code
smells~\cite{Pysmell,SQLAntipatterns,CleanCode,RefactoringWorkbook}, with
Jerzyk recently releasing an online catalog with 56 common code
smells~\cite{Jerzyk2023}.
At the same time, researchers investigated the effects of code smells on
maintainability (e.g.,~\cite{6392174, 6405287}) and studied developers' opinion
of code smells~\cite{developersCare}, ultimately identifying what real-world
developers consider the top 15 most common code smells.
Moreover, Tufano~\etal{}~\cite{whenandwhy} and Peters and
Zaidman~\cite{lifespan} characterized the lifespan of code smells in software
projects.
Finally, Santana~\etal{} found that strong agglomerations of certain code
smells often occur in software projects~\cite{Santana} and Pascarella~\etal{}
showed that code reviews significantly reduce the severity of code
smells~\cite{Pascarella}.

% Provide a very brief overview of code smell detection tools.
% Key insight to get across:
% - AST
% - Text
% - Machine Learning
% Real tools called linters

{\bf Code Smell Detection}. Due to their negative influence on software
quality, developers acknowledge the importance of detecting code
smells~\cite{developersCare} --- even though manual code smell detection is
both error-prone and resource-consuming~\cite{DetectingDefectsInObject}.
%
To automate this process, different code smell detection tools analyze either a
program's abstract syntax tree (AST)~\cite{Lenarduzzi2023} or its
text~\cite{Palomba}, or use machine learning~\cite{ML}.
%
Open-source developers have also created many language-specific linters for
smell detection (e.g., PMD~\cite{PMD} and CheckStyle~\cite{CheckStyle}), while
researchers created and evaluated ones like PySmell~\cite{Pysmell}.

% Multi-language code smells:
% - Why they are important
% - They are common
% Existing tools are not as good as they could be,
% especially when compared to TreeNose

{\bf Multi-Language Code Smells}.
%
Since developers mix and match the best features of programming
languages~\cite{7476675}, real-world software is often multiple-language in
nature~\cite{723183}.
%
Although many language-specific smell detectors find similar code
smells~\cite{CheckStyle,DesigniteJava,Jscent,PMD,Pysmell}, they do so with
differing internal representations and defaults, making their use difficult
either across many single-language projects or in any multi-language one.
%
In response, Abidi~\etal{} defined 12 multi-language
smells~\cite{MultiLanguageCodeSmells}, ultimately discovering that they are
both common and a strong negative influence on software quality~\cite{Abidi2}.
%
Using a multi-language detector implemented with \texttt{srcML}, they found
that multi-language smells are prevalent in multi-language systems and have a
strong negative influence on software readability~\cite{Fault-Prone}.
%
Finally, Nagy and Cleve built a smell detector for SQL statements embedded in
Java code~\cite{SQLInJava}, while Saavedra and Ferreira~\cite{Saavedra2023}
created one for projects in several infrastructure definition languages.
%
Compared to these tools supporting a fixed number of languages,
\texttt{TreeNose}'s use of TreeSitter makes it general-purpose and extensible.

% This is still not correct:

% Comparing those language,
% the adoption of TreeSitter makes \texttt{TreeNose} more general-purpose and
% more extensible.

% Unlike \texttt{TreeNose}, the aforementioned tools do not use Treesitter
% parsers, thereby making them both less general-purpose and less extensible.
